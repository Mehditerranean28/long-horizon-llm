# Example environment variables for both backend and frontend
# Copy to `.env` and adjust values for your environment.

# ----- Backend settings -----
# Example environment variables for the Sovereign Reasoning System
# Copy this file to `.env` and adjust values for local development.

# --- Core application settings ---
SOVEREIGN_APP_NAME=SovereignReasoningSystem
SOVEREIGN_APP_VERSION=1.0.0
SOVEREIGN_ENVIRONMENT=development
SOVEREIGN_RUNTIME_DEFAULT_PROFILE=cpu
SOVEREIGN_LLM_API_KEY=

# --- Database and cache ---
SOVEREIGN_TASK_DB_FILE_PATH=tasks.db
SOVEREIGN_CACHE_TTL_SECONDS=86400
SOVEREIGN_EVICTION_INTERVAL=60.0
SOVEREIGN_RESULT_RETENTION_SECONDS=3600

# --- Worker ---
SOVEREIGN_WORKER_CONCURRENCY=4
SOVEREIGN_WORKER_POLL_INTERVAL=1.0
SOVEREIGN_TASK_TIMEOUT_GRACE_PERIOD_SECONDS=5

# --- API ---
SOVEREIGN_API_RATE_LIMIT_PER_MINUTE=600
SOVEREIGN_API_MAX_REQUEST_BODY_SIZE_BYTES=5242880
SOVEREIGN_API_DEFAULT_QUERY_TEXT_MIN_LENGTH=10
SOVEREIGN_API_DEFAULT_QUERY_TEXT_MAX_LENGTH=10000
SOVEREIGN_CORS_ALLOW_ORIGIN=*

# --- LLM defaults ---
SOVEREIGN_LLM_DEFAULT_PROVIDER=ollama
SOVEREIGN_LLM_DEFAULT_MODEL_NAME=llama2
SOVEREIGN_LLM_DEFAULT_TEMPERATURE=0.7
SOVEREIGN_LLM_DEFAULT_MAX_TOKENS=2048
SOVEREIGN_LLM_RETRY_ATTEMPTS=3
SOVEREIGN_LLM_RETRY_BACKOFF_FACTOR=0.5

# --- Code Graph (CodeRAG) ---
# Default provider and models used for the code graph feature.
SOVEREIGN_CODE_RAG_MODEL_PROVIDER=google_gemini
SOVEREIGN_CODE_RAG_MODEL_ID=gemini-2.5-pro-preview-06-05
SOVEREIGN_CODE_RAG_CYPHER_PROVIDER=google_gemini
SOVEREIGN_CODE_RAG_CYPHER_MODEL_ID=gemini-2.5-flash-lite-preview-06-17

# --- Resource manager ---
SOVEREIGN_RESOURCE_MANAGER_DEFAULT_T_MAX_SECONDS=300
SOVEREIGN_RESOURCE_MANAGER_DEFAULT_W_MAX_TOKENS=100000
SOVEREIGN_RESOURCE_MANAGER_DEFAULT_D_MAX_DEPTH=10
SOVEREIGN_RESOURCE_MANAGER_DEFAULT_B_MAX_BREADTH=5
SOVEREIGN_RESOURCE_MANAGER_MAX_TOKEN_BUDGET=100000
SOVEREIGN_RESOURCE_MANAGER_MAX_TIME_BUDGET_SECONDS=300

# --- Artifact backend ---
SOVEREIGN_ARTIFACT_BACKEND_TYPE=localfs
SOVEREIGN_ARTIFACT_BACKEND_LOCALFS_BASE_DIR=/tmp/sovereign_artifacts
SOVEREIGN_ARTIFACT_BACKEND_S3_BUCKET_NAME=
SOVEREIGN_ARTIFACT_BACKEND_S3_REGION_NAME=
SOVEREIGN_ARTIFACT_BACKEND_S3_ENDPOINT_URL=

# --- Governor defaults ---
SOVEREIGN_GOVERNOR_MAX_MAIN_LOOP_ITERATIONS=15
SOVEREIGN_GOVERNOR_DEFAULT_PROTO_BRAIN_NAME=InitialProtoBrain
SOVEREIGN_GOVERNOR_RUN_STATE_TTL_SECONDS=604800

# --- Critics ---
SOVEREIGN_CRITICS_ENABLE_ALL=true
SOVEREIGN_CRITICS_RELEVANCE_LLM_PROVIDER=openai
SOVEREIGN_CRITICS_RELEVANCE_LLM_MODEL=text-embedding-3-small
SOVEREIGN_CRITICS_RELEVANCE_THRESHOLD=0.75
SOVEREIGN_CRITICS_FACTUAL_CONSISTENCY_THRESHOLD=0.90

# --- OpenTelemetry ---
SOVEREIGN_OTLP_ENDPOINT=
SOVEREIGN_OTLP_INSECURE=false
SOVEREIGN_OTEL_METRICS_EXPORT_INTERVAL_MILLIS=15000

# --- Additional script variables ---
CHROMA_DB_IMPL=duckdb+parquet
PERSIST_DIRECTORY=./db
SOURCE_DIRECTORY=source_documents
PDF_BASE_DIR=./pdfs
EMBEDDINGS_MODEL_NAME=
TEST_PAGES=5
DISABLE_LLM_SETUP=true
OLLAMA_ENABLED=true
OLLAMA_API_URL=http://ollama:11434/api/generate
TZ=UTC

# --- Logging settings ---
WATCH_LOG_CONF=true
LOG_REFRESH_TIME=5
LOG_CONF_K8S_PATH=/etc/config
LOG_CONTROL=/etc/adp/logcontrol.json
CONTAINER_NAME=sovereign
CERT_FILE=/run/secrets/lt-client-cert/clicert.pem
KEY_FILE=/run/secrets/lt-client-cert/cliprivkey.pem
CA_FILE=/run/secrets/lt-root-ca-cert/cacertbundle.pem
LOG_LEVEL=INFO
Q_LOG_TRANSFORMER_SERVICE_HOST=Q-log-transformer
Q_LOG_TRANSFORMER_SERVICE_PORT_JSON=5025
LOG_TRANSFORMER_HOST_TLS_PORT=5024
MAX_QUEUE_SIZE=5000
LOG_STDOUT=true
LOG_STDERR=false
LOG_STREAM=false
Q_DATA_NAME_SERVICE_PF_TLS=false

# --- Observability ---
OBS_NO_OTEL=false

# ----- Frontend settings -----
NODE_ENV=development
PORT=3000
MONGODB_URI=mongodb://localhost:27017/son_of_anton
NEXT_PUBLIC_API_BASE_URL=/api
NEXT_PUBLIC_SOVEREIGN_API_URL=http://localhost:8000
NEXT_PUBLIC_LOCAL_LLM_URL=http://localhost:11434
NEXT_PUBLIC_LOG_LEVEL=info # verbose|debug|info|warn|error
TASK_CONCURRENCY_PER_USER=2
STRIPE_SECRET_KEY=sk_test_yourkey
STRIPE_PRICE_ID=price_placeholder
STRIPE_WEBHOOK_SECRET=whsec_placeholder
SESSION_SECRET=changemepleasechangemepleasechangemepleasechangemeplease
BACKEND_HTTP_URL=http://localhost:8000
BACKEND_WS_URL=ws://localhost:8000/ws
SOVEREIGN_WS_URL=ws://localhost:8000/ws

# --- BunkerWeb settings ---
BUNKERWEB_USE_REVERSE_PROXY=yes
BUNKERWEB_REVERSE_PROXY_URL=/
BUNKERWEB_REVERSE_PROXY_HOST=http://son-of-anton:3000
BUNKERWEB_SERVE_FILES=no
BUNKERWEB_DISABLE_DEFAULT_SERVER=yes
BUNKERWEB_USE_CLIENT_CACHE=yes
BUNKERWEB_USE_GZIP=yes
BUNKERWEB_SERVER_NAME=localhost
BUNKERWEB_AUTO_LETS_ENCRYPT=no
BUNKERWEB_USE_MODSECURITY=yes
BUNKERWEB_USE_ANTIBOT=captcha
BUNKERWEB_CPUS=0.2
BUNKERWEB_MEMORY=128M

# --- Monitoring ---
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

